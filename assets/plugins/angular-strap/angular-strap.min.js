/**
 * angular-strap
 * @version v2.0.0-rc.3 - 2014-02-10
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(n,t){"use strict";angular.module("angular.strap",["angular.strap.modal","angular.strap.aside","angular.strap.alert","angular.strap.button","angular.strap.select","angular.strap.datepicker","angular.strap.timepicker","angular.strap.navbar","angular.strap.tooltip","angular.strap.popover","angular.strap.dropdown","angular.strap.typeahead","angular.strap.scrollspy","angular.strap.affix","angular.strap.tab"]);angular.module("angular.strap.affix",["angular.strap.helpers.dimensions"]).provider("$affix",function(){var n=this.defaults={offsetTop:"auto"};this.$get=["$window","dimensions",function(t,i){function u(u,f){function g(n,t,i){var r=b(),u=k();return r<=v?"top":n!==null&&r+n<=t.top?"middle":l!==null&&t.top+i+a>=u-l?"bottom":"middle"}function b(){return o[0]===t?t.pageYOffset:o[0]===t}function k(){return o[0]===t?t.document.body.scrollHeight:o[0].scrollHeight}var s={},e=angular.extend({},n,f),o=e.target,d="affix affix-top affix-bottom",a=0,p=0,w=null,c=null,h=u.parent(),y,v,l;if(e.offsetParent)if(e.offsetParent.match(/^\d+$/))for(y=0;y<e.offsetParent*1-1;y++)h=h.parent();else h=angular.element(e.offsetParent);return v=0,e.offsetTop&&(e.offsetTop==="auto"&&(e.offsetTop="+0"),e.offsetTop.match(/^[-+]\d+$/)?(a-=e.offsetTop*1,v=e.offsetParent?i.offset(h[0]).top+e.offsetTop*1:i.offset(u[0]).top-i.css(u[0],"marginTop",!0)+e.offsetTop*1):v=e.offsetTop*1),l=0,e.offsetBottom&&(l=e.offsetParent&&e.offsetBottom.match(/^[-+]\d+$/)?k()-(i.offset(h[0]).top+i.height(h[0]))+e.offsetBottom*1+1:e.offsetBottom*1),s.init=function(){p=i.offset(u[0]).top+a;o.on("scroll",this.checkPosition);o.on("click",this.checkPositionWithEventLoop);this.checkPosition();this.checkPositionWithEventLoop()},s.destroy=function(){o.off("scroll",this.checkPosition);o.off("click",this.checkPositionWithEventLoop)},s.checkPositionWithEventLoop=function(){setTimeout(this.checkPosition,1)},s.checkPosition=function(){var o=b(),t=i.offset(u[0]),f=i.height(u[0]),n=g(c,t,f);w!==n&&(w=n,u.removeClass(d).addClass("affix"+(n!=="middle"?"-"+n:"")),n==="top"?(c=null,u.css("position",e.offsetParent?"":"relative"),u.css("top","")):n==="bottom"?(c=e.offsetUnpin?-(e.offsetUnpin*1):t.top-o,u.css("position",e.offsetParent?"":"relative"),u.css("top",e.offsetParent?"":r[0].offsetHeight-l-f-p+"px")):(c=null,u.css("position","fixed"),u.css("top",a+"px")))},s.init(),s}var r=angular.element(t.document.body);return u}]}).directive("bsAffix",["$affix","$window",function(n,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(i,r,u,f){var e={scope:i,offsetTop:"auto",target:f?f.$element:angular.element(t)},o;angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});o=n(r,e);i.$on("$destroy",function(){e=null;o=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(n){this.$element=n}]}});angular.module("angular.strap.alert",[]).provider("$alert",function(){var n=this.defaults={animation:"am-fade",prefixClass:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1};this.$get=["$modal","$timeout",function(t,i){function r(r){var u={},f=angular.extend({},n,r),e;return u=t(f),f.type&&(u.$scope.type=f.type),e=u.show,f.duration&&(u.show=function(){e();i(function(){u.hide()},f.duration*1e3)}),u}return r}]}).directive("bsAlert",["$window","$location","$sce","$alert",function(n,t,i,r){var u=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,t,u){var e={scope:n,element:t,show:!1},f;angular.forEach(["template","placement","keyboard","html","container","animation","duration"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});angular.forEach(["title","content","type"],function(t){u[t]&&u.$observe(t,function(r){n[t]=i.getTrustedHtml(r)})});u.bsAlert&&n.$watch(u.bsAlert,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=r(e);t.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f.destroy();e=null;f=null})}}}]);angular.module("angular.strap.aside",["angular.strap.modal"]).provider("$aside",function(){var n=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function i(i){var r=angular.extend({},n,i);return t(r)}return i}]}).directive("bsAside",["$window","$location","$sce","$aside",function(n,t,i,r){var u=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,t,u){var e={scope:n,element:t,show:!1},f;angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});angular.forEach(["title","content"],function(t){u[t]&&u.$observe(t,function(r){n[t]=i.getTrustedHtml(r)})});u.bsAside&&n.$watch(u.bsAside,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=r(e);t.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f.destroy();e=null;f=null})}}}]);angular.module("angular.strap.button",["ngAnimate"]).provider("$button",function(){var n=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:n}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(n,t){n.attr("data-toggle","buttons");n.removeAttr("ng-model");var i=n[0].querySelectorAll('input[type="checkbox"]');angular.forEach(i,function(n){var i=angular.element(n);i.attr("bs-checkbox","");i.attr("ng-model",t.ngModel+"."+i.attr("value"))})}}}).directive("bsCheckbox",["$button","$$animateReflow",function(n,t){var r=n.defaults,i=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(n,u,f,e){var l=r,h=u[0].nodeName==="INPUT",a=h?u.parent():u,o=angular.isDefined(f.trueValue)?f.trueValue:!0,s,c;i.test(f.trueValue)&&(o=n.$eval(f.trueValue));s=angular.isDefined(f.falseValue)?f.falseValue:!1;i.test(f.falseValue)&&(s=n.$eval(f.falseValue));c=typeof o!="boolean"||typeof s!="boolean";c&&(e.$parsers.push(function(n){return n?o:s}),n.$watch(f.ngModel,function(){e.$render()}));e.$render=function(){var n=angular.equals(e.$modelValue,o);t(function(){h&&(u[0].checked=n);a.toggleClass(l.activeClass,n)})};u.bind(l.toggleEvent,function(){n.$apply(function(){h||e.$setViewValue(!a.hasClass("active"));c||e.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(n,t){n.attr("data-toggle","buttons");n.removeAttr("ng-model");var i=n[0].querySelectorAll('input[type="radio"]');angular.forEach(i,function(n){angular.element(n).attr("bs-radio","");angular.element(n).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$animateReflow",function(n,t){var i=n.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(n,u,f,e){var o=i,s=u[0].nodeName==="INPUT",c=s?u.parent():u,h=r.test(f.value)?n.$eval(f.value):f.value;e.$render=function(){var n=angular.equals(e.$modelValue,h);t(function(){s&&(u[0].checked=n);c.toggleClass(o.activeClass,n)})};u.bind(o.toggleEvent,function(){n.$apply(function(){e.$setViewValue(h);e.$render()})})}}}]);angular.module("angular.strap.datepicker",["angular.strap.helpers.dateParser","angular.strap.tooltip"]).provider("$datepicker",function(){var n=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",autoclose:!1,minDate:-Infinity,maxDate:+Infinity,startView:0,minView:0,startWeek:0};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","datepickerViews","$tooltip",function(t,i,r,u,f,e,o,s){function l(t,i,r){function g(n){n.selected=u.$isSelected(n.date)}function y(){t[0].focus()}var u=s(t,angular.extend({},n,r)),d=r.scope,l=u.$options,f=u.$scope,v,a,e,p,w,b,k;return l.startView&&(l.startView-=l.minView),v=o(u),u.$views=v.views,a=v.viewDate,f.$mode=l.startView,e=u.$views[f.$mode],f.$select=function(n){u.select(n)},f.$selectPane=function(n){u.$selectPane(n)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},u.update=function(n){angular.isDate(n)&&!isNaN(n.getTime())&&(u.$date=n,e.update.call(e,n));u.$build(!0)},u.select=function(n,t){angular.isDate(i.$dateValue)||(i.$dateValue=new Date(n));i.$dateValue.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());!f.$mode||t?(i.$setViewValue(i.$dateValue),i.$render(),l.autoclose&&!t&&u.hide(!0)):(angular.extend(a,{year:n.getFullYear(),month:n.getMonth(),date:n.getDate()}),u.setMode(f.$mode-1),u.$build())},u.setMode=function(n){f.$mode=n;e=u.$views[f.$mode];u.$build()},u.$build=function(n){n===!0&&e.built||(n!==!1||e.built)&&e.build.call(e)},u.$updateSelected=function(){for(var n=0,t=f.rows.length;n<t;n++)angular.forEach(f.rows[n],g)},u.$isSelected=function(n){return e.isSelected(n)},u.$selectPane=function(n){var t=e.steps,i=new Date(Date.UTC(a.year+(t.year||0)*n,a.month+(t.month||0)*n,a.date+(t.day||0)*n));angular.extend(a,{year:i.getUTCFullYear(),month:i.getUTCMonth(),date:i.getUTCDate()});u.$build()},u.$onMouseDown=function(n){if(n.preventDefault(),n.stopPropagation(),h){var t=angular.element(n.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}},u.$onKeyDown=function(n){if(/(38|37|39|40|13)/.test(n.keyCode)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0);e.onKeyDown(n);d.$digest()}},p=u.init,u.init=function(){if(c&&l.useNative){t.prop("type","date");t.css("-webkit-appearance","textfield");return}if(h){t.prop("type","text");t.attr("readonly","true");t.on("click",y)}p()},w=u.destroy,u.destroy=function(){c&&l.useNative&&t.off("click",y);w()},b=u.show,u.show=function(){b();setTimeout(function(){u.$element.on(h?"touchstart":"mousedown",u.$onMouseDown);if(l.keyboard)t.on("keydown",u.$onKeyDown)})},k=u.hide,u.hide=function(n){u.$element.off(h?"touchstart":"mousedown",u.$onMouseDown);l.keyboard&&t.off("keydown",u.$onKeyDown);k(n)},u}var a=angular.element(t.document.body),h="createTouch"in t.document,c=/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent);return n.lang||(n.lang=f.id),l.defaults=n,l}]}).directive("bsDatepicker",["$window","$parse","$q","$locale","dateFilter","$datepicker","$dateParser","$timeout",function(n,t,i,r,u,f,e){var s=f.defaults,o=/(ip(a|o)d|iphone|android)/gi.test(n.navigator.userAgent),h=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,r){var s={scope:n,controller:r},h,c;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","startWeek","useNative","lang","startView","minView"],function(n){angular.isDefined(i[n])&&(s[n]=i[n])});o&&s.useNative&&(s.dateFormat="yyyy-MM-dd");h=f(t,r,s);s=h.$options;angular.forEach(["minDate","maxDate"],function(n){angular.isDefined(i[n])&&i.$observe(n,function(t){if(t==="today"){var i=new Date;h.$options[n]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()+(n==="maxDate"?1:0),0,0,0,n==="minDate"?0:-1)}else h.$options[n]=angular.isString(t)&&t.match(/^".+"$/)?+new Date(t.substr(1,t.length-2)):+new Date(t);isNaN(h.$options[n])||h.$build(!1)})});n.$watch(i.ngModel,function(){h.update(r.$dateValue)},!0);c=e({format:s.dateFormat,lang:s.lang});r.$parsers.unshift(function(n){var t,i;if(!n){r.$setValidity("date",!0);return}return t=c.parse(n,r.$dateValue),!t||isNaN(t.getTime())?r.$setValidity("date",!1):(i=t.getTime()>=s.minDate&&t.getTime()<=s.maxDate,r.$setValidity("date",i),i&&(r.$dateValue=t)),s.dateType==="string"?u(n,s.dateFormat):s.dateType==="number"?r.$dateValue.getTime():s.dateType==="iso"?r.$dateValue.toISOString():r.$dateValue});r.$formatters.push(function(n){var t=angular.isDate(n)?n:new Date(n);return r.$dateValue=t,r.$dateValue});r.$render=function(){t.val(isNaN(r.$dateValue.getTime())?"":u(r.$dateValue,s.dateFormat))};n.$on("$destroy",function(){h.destroy();s=null;h=null})}}}]).provider("datepickerViews",function(){function n(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i}var t=this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$locale","$sce","dateFilter",function(t,i,r){return function(u){var o=u.$scope,e=u.$options,h=t.DATETIME_FORMATS.SHORTDAY,l=h.slice(e.startWeek).concat(h.slice(0,e.startWeek)),a=i.trustAsHtml('<th class="dow text-center">'+l.join('<\/th><th class="dow text-center">')+"<\/th>"),s=u.$date||new Date,f={year:s.getFullYear(),month:s.getMonth(),date:s.getDate()},v=s.getTimezoneOffset()*6e4,c=[{format:"dd",split:7,steps:{month:1},update:function(n,t){!this.built||t||n.getFullYear()!==f.year||n.getMonth()!==f.month?(angular.extend(f,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build()):n.getDate()!==f.date&&(f.date=u.$date.getDate(),u.$updateSelected())},build:function(){for(var i=new Date(f.year,f.month,1),s=new Date(+i-(i.getDay()+e.startWeek)*864e5),c=[],t,h=0;h<42;h++)t=new Date(s.getFullYear(),s.getMonth(),s.getDate()+h),c.push({date:t,label:r(t,this.format),selected:u.$date&&this.isSelected(t),muted:t.getMonth()!==f.month,disabled:this.isDisabled(t)});o.title=r(i,"MMMM yyyy");o.labels=a;o.rows=n(c,this.split);this.built=!0},isSelected:function(n){return u.$date&&n.getFullYear()===u.$date.getFullYear()&&n.getMonth()===u.$date.getMonth()&&n.getDate()===u.$date.getDate()},isDisabled:function(n){return n.getTime()<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){var t=u.$date.getTime();n.keyCode===37?u.select(new Date(t-864e5),!0):n.keyCode===38?u.select(new Date(t-6048e5),!0):n.keyCode===39?u.select(new Date(t+864e5),!0):n.keyCode===40&&u.select(new Date(t+6048e5),!0)}},{name:"month",format:"MMM",split:4,steps:{year:1},update:function(n){this.built&&n.getFullYear()===f.year?n.getMonth()!==f.month&&(angular.extend(f,{month:u.$date.getMonth(),date:u.$date.getDate()}),u.$updateSelected()):(angular.extend(f,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build())},build:function(){for(var s=new Date(f.year,0,1),e=[],t,i=0;i<12;i++)t=new Date(f.year,i,1),e.push({date:t,label:r(t,this.format),selected:u.$isSelected(t),disabled:this.isDisabled(t)});o.title=r(t,"yyyy");o.labels=!1;o.rows=n(e,this.split);this.built=!0},isSelected:function(n){return u.$date&&n.getFullYear()===u.$date.getFullYear()&&n.getMonth()===u.$date.getMonth()},isDisabled:function(n){var t=+new Date(n.getFullYear(),n.getMonth()+1,0);return t<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){var t=u.$date.getMonth();n.keyCode===37?u.select(u.$date.setMonth(t-1),!0):n.keyCode===38?u.select(u.$date.setMonth(t-4),!0):n.keyCode===39?u.select(u.$date.setMonth(t+1),!0):n.keyCode===40&&u.select(u.$date.setMonth(t+4),!0)}},{name:"year",format:"yyyy",split:4,steps:{year:12},update:function(n,t){!this.built||t||parseInt(n.getFullYear()/20,10)!==parseInt(f.year/20,10)?(angular.extend(f,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build()):n.getFullYear()!==f.year&&(angular.extend(f,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$updateSelected())},build:function(){for(var s=f.year-f.year%(this.split*3),t=[],i,e=0;e<12;e++)i=new Date(s+e,0,1),t.push({date:i,label:r(i,this.format),selected:u.$isSelected(i),disabled:this.isDisabled(i)});o.title=t[0].label+"-"+t[t.length-1].label;o.labels=!1;o.rows=n(t,this.split);this.built=!0},isSelected:function(n){return u.$date&&n.getFullYear()===u.$date.getFullYear()},isDisabled:function(n){var t=+new Date(n.getFullYear()+1,0,0);return t<e.minDate||n.getTime()>e.maxDate},onKeyDown:function(n){var t=u.$date.getFullYear();n.keyCode===37?u.select(u.$date.setYear(t-1),!0):n.keyCode===38?u.select(u.$date.setYear(t-4),!0):n.keyCode===39?u.select(u.$date.setYear(t+1),!0):n.keyCode===40&&u.select(u.$date.setYear(t+4),!0)}}];return{views:e.minView?Array.prototype.slice.call(c,e.minView):c,viewDate:f}}}]});angular.module("angular.strap.dropdown",["angular.strap.tooltip"]).provider("$dropdown",function(){var n=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$tooltip",function(t,i){function f(t,f){function c(n){if(n.target!==t[0])return n.target!==t[0]&&e.hide()}var e={},o=angular.extend({},n,f),s,h;return e=i(t,o),e.$onKeyDown=function(n){var i,t;/(38|40)/.test(n.keyCode)&&(n.preventDefault(),n.stopPropagation(),i=angular.element(e.$element[0].querySelectorAll("li:not(.divider) a")),i.length)&&(angular.forEach(i,function(n,i){u&&u.call(n,":focus")&&(t=i)}),n.keyCode===38&&t>0?t--:n.keyCode===40&&t<i.length-1?t++:angular.isUndefined(t)&&(t=0),i.eq(t)[0].focus())},s=e.show,e.show=function(){s();setTimeout(function(){o.keyboard&&e.$element.on("keydown",e.$onKeyDown);r.on("click",c)})},h=e.hide,e.hide=function(){o.keyboard&&e.$element.off("keydown",e.$onKeyDown);r.off("click",c);h()},e}var r=angular.element(t.document.body),u=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return f}]}).directive("bsDropdown",["$window","$location","$sce","$dropdown",function(n,t,i,r){return{restrict:"EAC",scope:!0,link:function(n,t,i){var u={scope:n},f;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(n){angular.isDefined(i[n])&&(u[n]=i[n])});i.bsDropdown&&n.$watch(i.bsDropdown,function(t){n.content=t},!0);f=r(t,u);n.$on("$destroy",function(){f.destroy();u=null;f=null})}}}]);angular.module("angular.strap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){var n=Date.prototype,t=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale",function(i){return function(r){function c(n){for(var i=Object.keys(e),r=[],u=[],o=n,f,t=0;t<i.length;t++)n.split(i[t]).length>1&&(f=o.search(i[t]),n=n.split(i[t]).join(""),e[i[t]]&&(r[f]=e[i[t]]));return angular.forEach(r,function(n){u.push(n)}),u}function l(n){return n.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function a(n){for(var r=Object.keys(h),i=n,t=0;t<r.length;t++)i=i.split(r[t]).join("${"+t+"}");for(t=0;t<r.length;t++)i=i.split("${"+t+"}").join("("+h[r[t]]+")");return n=l(n),new RegExp("^"+i+"$",["i"])}var u=angular.extend({},t,r),f={},h={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:u.strict?"[1-5]?[0-9]":"[0-5][0-9]",mm:"[0-5][0-9]",m:u.strict?"[1-5]?[0-9]":"[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:u.strict?"[0][1-9]|[1][012]":"[01][0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:u.strict?"[1-9]|[1][012]":"[0]?[1-9]|[1][012]",a:"AM|PM",EEEE:i.DATETIME_FORMATS.DAY.join("|"),EEE:i.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"[0-2][0-9]{1}|[3][01]{1}",d:u.strict?"[1-2]?[0-9]{1}|[3][01]{1}":"[0-2][0-9]{1}|[3][01]{1}",MMMM:i.DATETIME_FORMATS.MONTH.join("|"),MMM:i.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"[0][1-9]|[1][012]",M:u.strict?"[1-9]|[1][012]":"[0][1-9]|[1][012]",yyyy:"(?:(?:[1]{1}[0-9]{1}[0-9]{1}[0-9]{1})|(?:[2]{1}[0-9]{3}))(?![[0-9]])",yy:"(?:(?:[0-9]{1}[0-9]{1}))(?![[0-9]])"},e={sss:n.setMilliseconds,ss:n.setSeconds,s:n.setSeconds,mm:n.setMinutes,m:n.setMinutes,HH:n.setHours,H:n.setHours,hh:n.setHours,h:n.setHours,dd:n.setDate,d:n.setDate,a:function(n){var t=this.getHours();return this.setHours(n.match(/pm/i)?t+12:t)},MMMM:function(n){return this.setMonth(i.DATETIME_FORMATS.MONTH.indexOf(n))},MMM:function(n){return this.setMonth(i.DATETIME_FORMATS.SHORTMONTH.indexOf(n))},MM:function(n){return this.setMonth(1*n-1)},M:function(n){return this.setMonth(1*n-1)},yyyy:n.setFullYear,yy:function(n){return this.setFullYear(2e3+1*n)},y:n.setFullYear},o,s;return f.init=function(){f.$format=i.DATETIME_FORMATS[u.format]||u.format;o=a(f.$format);s=c(f.$format)},f.isValid=function(n){return angular.isDate(n)?!isNaN(n.getTime()):o.test(n)},f.parse=function(n,t){var r,u,i;if(angular.isDate(n))return n;if(r=o.exec(n),!r)return!1;for(u=t||new Date(0),i=0;i<r.length-1;i++)s[i]&&s[i].call(u,r[i+1]);return u},f.init(),f}}]}]);angular.module("angular.strap.helpers.debounce",[]).constant("debounce",function(n,t,i){var r,u,f,o,e;return function(){f=this;u=arguments;o=new Date;var s=function(){var h=new Date-o;h<t?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u)))},h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u)),e}}).constant("throttle",function(n,t,i){var f,e,o,r=null,u=0,s;return i||(i={}),s=function(){u=i.leading===!1?0:new Date;r=null;o=n.apply(f,e)},function(){var h=new Date,c;return u||i.leading!==!1||(u=h),c=t-(h-u),f=this,e=arguments,c<=0?(clearTimeout(r),r=null,u=h,o=n.apply(f,e)):r||i.trailing===!1||(r=setTimeout(s,c)),o}});angular.module("angular.strap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var u=angular.element,t={},i=t.nodeName=function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},r;return t.css=function(t,i,r){var u;return u=t.currentStyle?t.currentStyle[i]:n.getComputedStyle?n.getComputedStyle(t)[i]:t.style[i],r===!0?parseFloat(u)||0:u},t.offset=function(t){var r=t.getBoundingClientRect(),i=t.ownerDocument;return{width:t.offsetWidth,height:t.offsetHeight,top:r.top+(n.pageYOffset||i.documentElement.scrollTop)-(i.documentElement.clientTop||0),left:r.left+(n.pageXOffset||i.documentElement.scrollLeft)-(i.documentElement.clientLeft||0)}},t.position=function(n){var u={top:0,left:0},f,e;return t.css(n,"position")==="fixed"?e=n.getBoundingClientRect():(f=r(n),e=t.offset(n),e=t.offset(n),i(f,"html")||(u=t.offset(f)),u.top+=t.css(f,"borderTopWidth",!0),u.left+=t.css(f,"borderLeftWidth",!0)),{width:n.offsetWidth,height:n.offsetHeight,top:e.top-u.top-t.css(n,"marginTop",!0),left:e.left-u.left-t.css(n,"marginLeft",!0)}},r=function(n){var u=n.ownerDocument,r=n.offsetParent||u;if(i(r,"#document"))return u.documentElement;while(r&&!i(r,"html")&&t.css(r,"position")==="static")r=r.offsetParent;return r||u.documentElement},t.height=function(n,i){var r=n.offsetHeight;return i?r+=t.css(n,"marginTop",!0)+t.css(n,"marginBottom",!0):r-=t.css(n,"paddingTop",!0)+t.css(n,"paddingBottom",!0)+t.css(n,"borderTopWidth",!0)+t.css(n,"borderBottomWidth",!0),r},t.width=function(n,i){var r=n.offsetWidth;return i?r+=t.css(n,"marginLeft",!0)+t.css(n,"marginRight",!0):r-=t.css(n,"paddingLeft",!0)+t.css(n,"paddingRight",!0)+t.css(n,"borderLeftWidth",!0)+t.css(n,"borderRightWidth",!0),r},t}]);angular.module("angular.strap.helpers.parseOptions",[]).provider("$parseOptions",function(){var n=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,i){function r(r,u){function y(n){return n.map(function(n,t){var i={},r,u;return i[o]=n,r=s(i),u=h(i)||t,{label:r,value:u}})}var e={},l=angular.extend({},n,u),f,s,o,a,v,h,c;return e.$values=[],e.init=function(){e.$match=f=r.match(l.regexp);s=t(f[2]||f[1]);o=f[4]||f[6];a=f[5];v=t(f[3]||"");h=t(f[2]?f[1]:o);c=t(f[7])},e.valuesFn=function(n,t){return i.when(c(n,t)).then(function(n){return e.$values=n?y(n):{},e.$values})},e.init(),e}return r}]});angular.module("angular.strap.modal",["angular.strap.helpers.dimensions"]).provider("$modal",function(){var n=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions",function(i,r,u,f,e,o,s){function w(t){function b(n){n.target===n.currentTarget&&(i.backdrop==="static"?f.focus():f.hide())}var f={},i=angular.extend({},n,t),e,k,o,w;return f.$promise=l(i.template),e=f.$scope=i.scope&&i.scope.$new()||r.$new(),i.element||i.container||(i.container="body"),i.scope||a(["title","content"],function(n){i[n]&&(e[n]=i[n])}),e.$hide=function(){e.$$postDigest(function(){f.hide()})},e.$show=function(){e.$$postDigest(function(){f.show()})},e.$toggle=function(){e.$$postDigest(function(){f.toggle()})},i.contentTemplate&&(f.$promise=f.$promise.then(function(n){var r=angular.element(n);return l(i.contentTemplate).then(function(n){var i=c('[ng-bind="content"]',r[0]).removeAttr("ng-bind").html(n);return t.template||i.next().remove(),r[0].outerHTML})})),w=angular.element('<div class="'+i.prefixClass+'-backdrop"/>'),f.$promise.then(function(n){angular.isObject(n)&&(n=n.data);i.html&&(n=n.replace(p,'ng-bind-html="'));n=v.apply(n);k=u(n);f.init()}),f.init=function(){i.show&&e.$$postDigest(function(){f.show()})},f.destroy=function(){o&&(o.remove(),o=null);w&&(w.remove(),w=null);e.$destroy()},f.show=function(){var t=i.container?c(i.container):null,r=i.container?null:i.element,n;if(o=f.$element=k(e,function(){}),o.css({display:"block"}).addClass(i.placement),i.animation&&(i.backdrop&&w.addClass(i.backdropAnimation),o.addClass(i.animation)),i.backdrop&&s.enter(w,h,null,function(){}),s.enter(o,t,r,function(){}),e.$isShown=!0,e.$$phase||e.$digest(),n=o[0],y(function(){n.focus()}),h.addClass(i.prefixClass+"-open"),i.backdrop){o.on("click",b);w.on("click",b)}if(i.keyboard)o.on("keyup",f.$onKeyUp)},f.hide=function(){s.leave(o,function(){h.removeClass(i.prefixClass+"-open")});i.backdrop&&s.leave(w,function(){});e.$isShown=!1;e.$$phase||e.$digest();i.backdrop&&(o.off("click",b),w.off("click",b));i.keyboard&&o.off("keyup",f.$onKeyUp)},f.toggle=function(){e.$isShown?f.hide():f.show()},f.focus=function(){o[0].focus()},f.$onKeyUp=function(n){n.which===27&&f.hide()},f}function c(n,i){return angular.element((i||t).querySelectorAll(n))}function l(n){return f.when(e.get(n)||o.get(n)).then(function(t){return angular.isObject(t)?(e.put(n,t.data),t.data):t})}var a=angular.forEach,v=String.prototype.trim,y=i.requestAnimationFrame||i.setTimeout,h=angular.element(i.document.body),p=/ng-bind="/gi;return w}]}).directive("bsModal",["$window","$location","$sce","$modal",function(n,t,i,r){return{restrict:"EAC",scope:!0,link:function(n,t,u){var e={scope:n,element:t,show:!1},f;angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(n){angular.isDefined(u[n])&&(e[n]=u[n])});angular.forEach(["title","content"],function(t){u[t]&&u.$observe(t,function(r){n[t]=i.getTrustedHtml(r)})});u.bsModal&&n.$watch(u.bsModal,function(t){angular.isObject(t)?angular.extend(n,t):n.content=t},!0);f=r(e);t.on(u.trigger||"click",f.toggle);n.$on("$destroy",function(){f.destroy();e=null;f=null})}}}]);angular.module("angular.strap.navbar",[]).provider("$navbar",function(){var n=this.defaults={activeClass:"active",routeAttr:"data-match-route"};this.$get=function(){return{defaults:n}}}).directive("bsNavbar",["$window","$location","$navbar",function(n,t,i){var r=i.defaults;return{restrict:"A",link:function(n,i,u){var f=r;angular.forEach(Object.keys(r),function(n){angular.isDefined(u[n])&&(f[n]=u[n])});n.$watch(function(){return t.path()},function(n){var t=i[0].querySelectorAll("li["+f.routeAttr+"]");angular.forEach(t,function(t){var i=angular.element(t),r=i.attr(f.routeAttr),u=new RegExp("^"+r.replace("/","\\/")+"$",["i"]);u.test(n)?i.addClass(f.activeClass):i.removeClass(f.activeClass)})})}}}]);angular.module("angular.strap.popover",["angular.strap.tooltip"]).provider("$popover",function(){var n=this.defaults={animation:"am-fade",placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,container:!1};this.$get=["$tooltip",function(t){function i(i,r){var u=angular.extend({},n,r),f=t(i,u);return u.content&&(f.$scope.content=u.content),f}return i}]}).directive("bsPopover",["$window","$location","$sce","$popover",function(n,t,i,r){var u=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",scope:!0,link:function(n,t,f){var o={scope:n},e;angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation"],function(n){angular.isDefined(f[n])&&(o[n]=f[n])});angular.forEach(["title","content"],function(t){f[t]&&f.$observe(t,function(r,f){n[t]=i.getTrustedHtml(r);angular.isDefined(f)&&u(function(){e&&e.$applyPlacement()})})});f.bsPopover&&n.$watch(f.bsPopover,function(t,i){angular.isObject(t)?angular.extend(n,t):n.content=t;angular.isDefined(i)&&u(function(){e&&e.$applyPlacement()})},!0);e=r(t,o);n.$on("$destroy",function(){e.destroy();o=null;e=null})}}}]);angular.module("angular.strap.scrollspy",["angular.strap.helpers.debounce","angular.strap.helpers.dimensions"]).provider("$scrollspy",function(){var n=this.$$spies={},i=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(r,u,f,e,o,s){function h(n,t){return n[0].nodeName&&n[0].nodeName.toLowerCase()===t.toLowerCase()}function v(u){var p=angular.extend({},i,u);p.element||(p.element=a);var it=h(p.element,"body"),k=it?c:p.element,d=it?"window":p.id;if(n[d])return n[d].$$count++,n[d];var v={},w=v.$trackedElements=[],y=[],g,nt,rt,b,ut,tt;return v.init=function(){this.$$count=1;nt=o(this.checkPosition,p.debounce);rt=s(this.checkPosition,p.throttle);k.on("click",this.checkPositionWithEventLoop);c.on("resize",nt);k.on("scroll",rt);b=o(this.checkOffsets,p.debounce);f.$on("$viewContentLoaded",b);f.$on("$includeContentLoaded",b);b();d&&(n[d]=v)},v.destroy=function(){(this.$$count--,this.$$count>0)||(k.off("click",this.checkPositionWithEventLoop),c.off("resize",nt),k.off("scroll",nt),f.$off("$viewContentLoaded",b),f.$off("$includeContentLoaded",b))},v.checkPosition=function(){if(y.length){if(tt=(it?r.pageYOffset:k.prop("scrollTop"))||0,ut=Math.max(r.innerHeight,l.prop("clientHeight")),tt<y[0].offsetTop&&g!==y[0].target)return v.$activateElement(y[0]);for(var n=y.length;n--;)if(!angular.isUndefined(y[n].offsetTop)&&y[n].offsetTop!==null&&g!==y[n].target&&!(tt<y[n].offsetTop)&&(!y[n+1]||!(tt>y[n+1].offsetTop)))return v.$activateElement(y[n])}},v.checkPositionWithEventLoop=function(){setTimeout(this.checkPosition,1)},v.$activateElement=function(n){if(g){var t=v.$getTrackedElement(g);t&&(t.source.removeClass("active"),h(t.source,"li")&&h(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}g=n.target;n.source.addClass("active");h(n.source,"li")&&h(n.source.parent().parent(),"li")&&n.source.parent().parent().addClass("active")},v.$getTrackedElement=function(n){return w.filter(function(t){return t.target===n})[0]},v.checkOffsets=function(){angular.forEach(w,function(n){var i=t.querySelector(n.target);n.offsetTop=i?e.offset(i).top:null;p.offset&&n.offsetTop!==null&&(n.offsetTop-=p.offset*1)});y=w.filter(function(n){return n.offsetTop!==null}).sort(function(n,t){return n.offsetTop-t.offsetTop});nt()},v.trackElement=function(n,t){w.push({target:n,source:t})},v.untrackElement=function(n,t){for(var r,i=w.length;i--;)if(w[i].target===n&&w[i].source===t){r=i;break}w=w.splice(r,1)},v.activate=function(n){w[n].addClass("active")},v.init(),v}var c=angular.element(r),l=angular.element(u.prop("documentElement")),a=angular.element(r.document.body);return v}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(n,t,i,r){return{restrict:"EAC",link:function(n,t,i){var u={scope:n},f;angular.forEach(["offset","target"],function(n){angular.isDefined(i[n])&&(u[n]=i[n])});f=r(u);f.trackElement(u.target,t);n.$on("$destroy",function(){f.untrackElement(u.target,t);f.destroy();u=null;f=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(n){var t=n[0].querySelectorAll("li > a[href]");angular.forEach(t,function(n){var t=angular.element(n);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]);angular.module("angular.strap.select",["angular.strap.tooltip","angular.strap.helpers.parseOptions"]).provider("$select",function(){var n=this.defaults={animation:"am-fade",prefixClass:"select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"><\/span>',placeholder:"Choose among the following..."};this.$get=["$window","$document","$rootScope","$tooltip",function(t,i,r,u){function e(t,i,r){var e={},s=angular.extend({},n,r),h,o,c,l,a,v;return e=u(t,s),h=r.scope,o=e.$scope,o.$matches=[],o.$activeIndex=0,o.$isMultiple=s.multiple,o.$activate=function(n){o.$$postDigest(function(){e.activate(n)})},o.$select=function(n){o.$$postDigest(function(){e.select(n)})},o.$isVisible=function(){return e.$isVisible()},o.$isActive=function(n){return e.$isActive(n)},e.update=function(n){o.$matches=n;e.$updateActiveIndex()},e.activate=function(n){return s.multiple?(o.$activeIndex.sort(),e.$isActive(n)?o.$activeIndex.splice(o.$activeIndex.indexOf(n),1):o.$activeIndex.push(n),s.sort&&o.$activeIndex.sort()):o.$activeIndex=n,o.$activeIndex},e.select=function(n){var r=o.$matches[n].value;e.activate(n);s.multiple?i.$setViewValue(o.$activeIndex.map(function(n){return o.$matches[n].value})):i.$setViewValue(r);i.$render();h&&h.$digest();s.multiple||(s.trigger==="focus"?t[0].blur():e.$isShown&&e.hide());o.$emit("$select.select",r,n)},e.$updateActiveIndex=function(){i.$modelValue&&o.$matches.length?o.$activeIndex=s.multiple&&angular.isArray(i.$modelValue)?i.$modelValue.map(function(n){return e.$getIndex(n)}):e.$getIndex(i.$modelValue):o.$activeIndex>=o.$matches.length&&(o.$activeIndex=s.multiple?[]:0)},e.$isVisible=function(){return!s.minLength||!i?o.$matches.length:o.$matches.length&&i.$viewValue.length>=s.minLength},e.$isActive=function(n){return s.multiple?o.$activeIndex.indexOf(n)!==-1:o.$activeIndex===n},e.$getIndex=function(n){var i=o.$matches.length,t=i;if(i){for(t=i;t--;)if(o.$matches[t].value===n)break;if(!(t<0))return t}},e.$onElementMouseDown=function(n){n.preventDefault();n.stopPropagation();e.$isShown?t[0].blur():t[0].focus()},e.$onMouseDown=function(n){if(n.preventDefault(),n.stopPropagation(),f){var t=angular.element(n.target);t.triggerHandler("click")}},e.$onKeyDown=function(n){if(/(38|40|13)/.test(n.keyCode)){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return e.select(o.$activeIndex);n.keyCode===38&&o.$activeIndex>0?o.$activeIndex--:n.keyCode===40&&o.$activeIndex<o.$matches.length-1?o.$activeIndex++:angular.isUndefined(o.$activeIndex)&&(o.$activeIndex=0);o.$digest()}},c=e.init,e.init=function(){c();t.on(f?"touchstart":"mousedown",e.$onElementMouseDown)},l=e.destroy,e.destroy=function(){l();t.off(f?"touchstart":"mousedown",e.$onElementMouseDown)},a=e.show,e.show=function(){a();s.multiple&&e.$element.addClass("select-multiple");setTimeout(function(){e.$element.on(f?"touchstart":"mousedown",e.$onMouseDown);if(s.keyboard)t.on("keydown",e.$onKeyDown)})},v=e.hide,e.hide=function(){e.$element.off(f?"touchstart":"mousedown",e.$onMouseDown);s.keyboard&&t.off("keydown",e.$onKeyDown);v()},e}var o=angular.element(t.document.body),f="createTouch"in t.document;return e.defaults=n,e}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(n,t,i,r,u){var f=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,e){var s={scope:n},h;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple"],function(n){angular.isDefined(i[n])&&(s[n]=i[n])});t[0].nodeName.toLowerCase()==="select"&&(h=t,h.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"><\/button>'),h.after(t));var c=u(i.ngOptions),o=r(t,e,s),l=c.$match[7].replace(/\|.+/,"").trim();n.$watch(l,function(){c.valuesFn(n,e).then(function(n){o.update(n);e.$render()})},!0);n.$watch(i.ngModel,function(){o.$updateActiveIndex()},!0);e.$render=function(){var r,n;s.multiple&&angular.isArray(e.$modelValue)?r=e.$modelValue.map(function(t){return n=o.$getIndex(t),angular.isDefined(n)?o.$scope.$matches[n].label:!1}).filter(angular.isDefined).join(", "):(n=o.$getIndex(e.$modelValue),r=angular.isDefined(n)?o.$scope.$matches[n].label:!1);t.html((r?r:i.placeholder||f.placeholder)+f.caretHtml)};n.$on("$destroy",function(){o.destroy();s=null;o=null})}}}]);angular.module("angular.strap.tab",[]).run(["$templateCache",function(n){n.put("$pane","{{pane.content}}")}]).provider("$tab",function(){var n=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html"};this.$get=function(){return{defaults:n}}}).directive("bsTabs",["$window","$animate","$tab",function(n,t,i){var r=i.defaults;return{restrict:"EAC",scope:!0,require:"?ngModel",templateUrl:function(n,t){return t.template||r.template},link:function(n,t,i,u){var f=r;angular.forEach(["animation"],function(n){angular.isDefined(i[n])&&(f[n]=i[n])});i.bsTabs&&n.$watch(i.bsTabs,function(t){n.panes=t},!0);t.addClass("tabs");f.animation&&t.addClass(f.animation);n.active=n.activePane=0;n.setActive=function(t){n.active=t;u&&u.$setViewValue(t)};u&&(u.$render=function(){n.active=u.$modelValue*1})}}}]);angular.module("angular.strap.timepicker",["angular.strap.helpers.dateParser","angular.strap.tooltip"]).provider("$timepicker",function(){var n=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",autoclose:!1,minTime:-Infinity,maxTime:+Infinity,length:5,hourStep:1,minuteStep:5};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","$tooltip",function(t,i,r,u,f,e,o){function c(t,i,r){function w(n,i){if(t[0].createTextRange){var r=t[0].createTextRange();r.collapse(!0);r.moveStart("character",n);r.moveEnd("character",i);r.select()}else t[0].setSelectionRange?t[0].setSelectionRange(n,i):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=n,t[0].selectionEnd=i)}function b(){t[0].focus()}var u=o(t,angular.extend({},n,r)),tt=r.scope,c=u.$options,v=u.$scope,a=0,y=i.$dateValue||new Date,l={hour:y.getHours(),meridian:y.getHours()<12,minute:y.getMinutes(),second:y.getSeconds(),millisecond:y.getMilliseconds()},it=f.DATETIME_FORMATS[c.timeFormat]||c.timeFormat,p=/(h+)[:]?(m+)[ ]?(a?)/i.exec(it).slice(1),k,d,g,nt;return v.$select=function(n,t){u.select(n,t)},v.$moveIndex=function(n,t){u.$moveIndex(n,t)},v.$switchMeridian=function(n){u.switchMeridian(n)},u.update=function(n){angular.isDate(n)&&!isNaN(n.getTime())?(u.$date=n,angular.extend(l,{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisecond:n.getMilliseconds()}),u.$build()):u.$isBuilt||u.$build()},u.select=function(n,t,r){isNaN(i.$dateValue.getTime())&&(i.$dateValue=new Date(1970,0,1));angular.isDate(n)||(n=new Date(n));t===0?i.$dateValue.setHours(n.getHours()):t===1&&i.$dateValue.setMinutes(n.getMinutes());i.$setViewValue(i.$dateValue);i.$render();c.autoclose&&!r&&u.hide(!0)},u.switchMeridian=function(n){var t=(n||i.$dateValue).getHours();i.$dateValue.setHours(t<12?t+12:t-12);i.$render()},u.$build=function(){for(var r=v.midIndex=parseInt(c.length/2,10),f=[],t,o,i,s,n=0;n<c.length;n++)t=new Date(1970,0,1,l.hour-(r-n)*c.hourStep),f.push({date:t,label:e(t,p[0]),selected:u.$date&&u.$isSelected(t,0),disabled:u.$isDisabled(t,0)});for(o=[],n=0;n<c.length;n++)i=new Date(1970,0,1,0,l.minute-(r-n)*c.minuteStep),o.push({date:i,label:e(i,p[1]),selected:u.$date&&u.$isSelected(i,1),disabled:u.$isDisabled(i,1)});for(s=[],n=0;n<c.length;n++)s.push([f[n],o[n]]);v.rows=s;v.showAM=!!p[2];v.isAM=(u.$date||f[r].date).getHours()<12;u.$isBuilt=!0},u.$isSelected=function(n,t){if(u.$date){if(t===0)return n.getHours()===u.$date.getHours();if(t===1)return n.getMinutes()===u.$date.getMinutes()}else return!1},u.$isDisabled=function(n,t){var i;return t===0?i=n.getTime()+l.minute*6e4:t===1&&(i=n.getTime()+l.hour*36e5),i<c.minTime||i>c.maxTime},u.$moveIndex=function(n,t){var i;t===0?(i=new Date(1970,0,1,l.hour+n*c.length,l.minute),angular.extend(l,{hour:i.getHours()})):t===1&&(i=new Date(1970,0,1,l.hour,l.minute+n*c.length*5),angular.extend(l,{minute:i.getMinutes()}));u.$build()},u.$onMouseDown=function(n){if(n.target.nodeName.toLowerCase()!=="input"&&n.preventDefault(),n.stopPropagation(),s){var t=angular.element(n.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}},u.$onKeyDown=function(n){if(/(38|37|39|40|13)/.test(n.keyCode)&&!n.shiftKey&&!n.altKey){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return u.hide(!0);var t=new Date(u.$date),o=t.getHours(),i=e(t,"h").length,s=t.getMinutes(),f=e(t,"mm").length,r=/(37|39)/.test(n.keyCode),h=2+!!p[2]*1;if(r&&(n.keyCode===37?a=a<1?h-1:a-1:n.keyCode===39&&(a=a<h-1?a+1:0)),a===0){if(r)return w(0,i);n.keyCode===38?t.setHours(o-c.hourStep):n.keyCode===40&&t.setHours(o+c.hourStep)}else if(a===1){if(r)return w(i+1,i+1+f);n.keyCode===38?t.setMinutes(s-c.minuteStep):n.keyCode===40&&t.setMinutes(s+c.minuteStep)}else if(a===2){if(r)return w(i+1+f+1,i+1+f+3);u.switchMeridian()}u.select(t,a,!0);tt.$digest()}},k=u.init,u.init=function(){if(h&&c.useNative){t.prop("type","time");t.css("-webkit-appearance","textfield");return}if(s){t.prop("type","text");t.attr("readonly","true");t.on("click",b)}k()},d=u.destroy,u.destroy=function(){h&&c.useNative&&t.off("click",b);d()},g=u.show,u.show=function(){g();setTimeout(function(){u.$element.on(s?"touchstart":"mousedown",u.$onMouseDown);if(c.keyboard)t.on("keydown",u.$onKeyDown)})},nt=u.hide,u.hide=function(n){u.$element.off(s?"touchstart":"mousedown",u.$onMouseDown);c.keyboard&&t.off("keydown",u.$onKeyDown);nt(n)},u}var l=angular.element(t.document.body),s="createTouch"in t.document,h=/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent);return n.lang||(n.lang=f.id),c.defaults=n,c}]}).directive("bsTimepicker",["$window","$parse","$q","$locale","dateFilter","$timepicker","$dateParser","$timeout",function(n,t,i,r,u,f,e){var s=f.defaults,o=/(ip(a|o)d|iphone|android)/gi.test(n.navigator.userAgent),h=n.requestAnimationFrame||n.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,r){var s={scope:n,controller:r},h,c;angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","useNative","lang"],function(n){angular.isDefined(i[n])&&(s[n]=i[n])});o&&s.useNative&&(s.timeFormat="HH:mm");h=f(t,r,s);s=h.$options;c=e({format:s.timeFormat,lang:s.lang});angular.forEach(["minTime","maxTime"],function(n){angular.isDefined(i[n])&&i.$observe(n,function(t){h.$options[n]=t==="now"?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?+new Date(t.substr(1,t.length-2)):c.parse(t);isNaN(h.$options[n])||h.$build()})});n.$watch(i.ngModel,function(){h.update(r.$dateValue)},!0);r.$parsers.unshift(function(n){var t,i;if(!n){r.$setValidity("date",!0);return}return t=c.parse(n,r.$dateValue),!t||isNaN(t.getTime())?r.$setValidity("date",!1):(i=t.getTime()>=s.minTime&&t.getTime()<=s.maxTime,r.$setValidity("date",i),i&&(r.$dateValue=t)),s.timeType==="string"?u(n,s.timeFormat):s.timeType==="number"?r.$dateValue.getTime():s.timeType==="iso"?r.$dateValue.toISOString():r.$dateValue});r.$formatters.push(function(n){var t=angular.isDate(n)?n:new Date(n);return r.$dateValue=t,r.$dateValue});r.$render=function(){t.val(isNaN(r.$dateValue.getTime())?"":u(r.$dateValue,s.timeFormat))};n.$on("$destroy",function(){h.destroy();s=null;h=null})}}}]);angular.module("angular.strap.tooltip",["ngAnimate","angular.strap.helpers.dimensions"]).provider("$tooltip",function(){var n=this.defaults={animation:"am-fade",prefixClass:"tooltip",container:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions","$$animateReflow",function(i,r,u,f,e,o,s,h,c,l){function w(t,i){function nt(){return e.container==="body"?c.offset(t[0]):c.position(t[0])}function tt(n,t,i,r){var u,f=n.split("-");switch(f[0]){case"right":u={top:t.top+t.height/2-r/2,left:t.left+t.width};break;case"bottom":u={top:t.top+t.height,left:t.left+t.width/2-i/2};break;case"left":u={top:t.top+t.height/2-r/2,left:t.left-i};break;default:u={top:t.top-r,left:t.left+t.width/2-i/2}}if(!f[1])return u;if(f[0]==="top"||f[0]==="bottom")switch(f[1]){case"left":u.left=t.left;break;case"right":u.left=t.left+t.width-i}else if(f[0]==="left"||f[0]==="right")switch(f[1]){case"top":u.top=t.top-r;break;case"bottom":u.top=t.top+t.height}return u}var f={},e=f.$options=angular.extend({},n,i),h,w,b,d,o,g,k;return f.$promise=v(e.template),h=f.$scope=e.scope&&e.scope.$new()||r.$new(),e.delay&&angular.isString(e.delay)&&(e.delay=parseFloat(e.delay)),e.title&&(f.$scope.title=e.title),h.$hide=function(){h.$$postDigest(function(){f.hide()})},h.$show=function(){h.$$postDigest(function(){f.show()})},h.$toggle=function(){h.$$postDigest(function(){f.toggle()})},f.$isShown=!1,e.contentTemplate&&(f.$promise=f.$promise.then(function(n){var t=angular.element(n);return v(e.contentTemplate).then(function(n){return a('[ng-bind="content"]',t[0]).removeAttr("ng-bind").html(n),t[0].outerHTML})})),f.$promise.then(function(n){angular.isObject(n)&&(n=n.data);e.html&&(n=n.replace(p,'ng-bind-html="'));n=y.apply(n);g=n;d=u(n);f.init()}),f.init=function(){e.delay&&angular.isNumber(e.delay)&&(e.delay={show:e.delay,hide:e.delay});e.container==="self"?k=t:e.container&&(k=a(e.container));var n=e.trigger.split(" ");angular.forEach(n,function(n){if(n==="click")t.on("click",f.toggle);else if(n!=="manual"){t.on(n==="hover"?"mouseenter":"focus",f.enter);t.on(n==="hover"?"mouseleave":"blur",f.leave)}});e.show&&h.$$postDigest(function(){e.trigger==="focus"?t[0].focus():f.show()})},f.destroy=function(){for(var n,i=e.trigger.split(" "),r=i.length;r--;)n=i[r],n==="click"?t.off("click",f.toggle):n!=="manual"&&(t.off(n==="hover"?"mouseenter":"focus",f.enter),t.off(n==="hover"?"mouseleave":"blur",f.leave));o&&(o.remove(),o=null);h.$destroy()},f.enter=function(){if(clearTimeout(w),b="in",!e.delay||!e.delay.show)return f.show();w=setTimeout(function(){b==="in"&&f.show()},e.delay.show)},f.show=function(){var n=e.container?k:null,i=e.container?null:t;if(o&&o.remove(),o=f.$element=d(h,function(){}),o.css({top:"0px",left:"0px",display:"block"}).addClass(e.placement),e.animation&&o.addClass(e.animation),e.type&&o.addClass(e.prefixClass+"-"+e.type),s.enter(o,n,i,function(){}),f.$isShown=!0,h.$$phase||h.$digest(),l(f.$applyPlacement),e.keyboard)if(e.trigger!=="focus"){f.focus();o.on("keyup",f.$onKeyUp)}else t.on("keyup",f.$onFocusKeyUp)},f.leave=function(){if(clearTimeout(w),b="out",!e.delay||!e.delay.hide)return f.hide();w=setTimeout(function(){b==="out"&&f.hide()},e.delay.hide)},f.hide=function(n){if(f.$isShown)return s.leave(o,function(){o=null}),h.$$phase||h.$digest(),f.$isShown=!1,e.keyboard&&o.off("keyup",f.$onKeyUp),n&&e.trigger==="focus"?t[0].blur():void 0},f.toggle=function(){f.$isShown?f.leave():f.enter()},f.focus=function(){o[0].focus()},f.$applyPlacement=function(){if(o){var t=nt(),i=o.prop("offsetWidth"),r=o.prop("offsetHeight"),n=tt(e.placement,t,i,r);n.top+="px";n.left+="px";o.css(n)}},f.$onKeyUp=function(n){n.which===27&&f.hide()},f.$onFocusKeyUp=function(n){n.which===27&&t[0].blur()},f}function a(n,i){return angular.element((i||t).querySelectorAll(n))}function v(n){return f.when(e.get(n)||o.get(n)).then(function(t){return angular.isObject(t)?(e.put(n,t.data),t.data):t})}var y=String.prototype.trim,b="createTouch"in i.document,p=/ng-bind="/gi;return w}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$animateReflow",function(n,t,i,r,u){return{restrict:"EAC",scope:!0,link:function(n,t,f){var o={scope:n},e;angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation","type"],function(n){angular.isDefined(f[n])&&(o[n]=f[n])});angular.forEach(["title"],function(t){f[t]&&f.$observe(t,function(r,f){n[t]=i.getTrustedHtml(r);angular.isDefined(f)&&u(function(){e&&e.$applyPlacement()})})});f.bsTooltip&&n.$watch(f.bsTooltip,function(t,i){angular.isObject(t)?angular.extend(n,t):n.content=t;angular.isDefined(i)&&u(function(){e&&e.$applyPlacement()})},!0);e=r(t,o);n.$on("$destroy",function(){e.destroy();o=null;e=null})}}}]);angular.module("angular.strap.typeahead",["angular.strap.tooltip","angular.strap.helpers.parseOptions"]).provider("$typeahead",function(){var n=this.defaults={animation:"am-fade",prefixClass:"typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,limit:6};this.$get=["$window","$rootScope","$tooltip",function(t,i,r){function u(t,i){var f={},e=angular.extend({},n,i),o=e.controller,s,u,h,c;return f=r(t,e),s=i.scope,u=f.$scope,u.$matches=[],u.$activeIndex=0,u.$activate=function(n){u.$$postDigest(function(){f.activate(n)})},u.$select=function(n){u.$$postDigest(function(){f.select(n)})},u.$isVisible=function(){return f.$isVisible()},f.update=function(n){u.$matches=n;u.$activeIndex>=n.length&&(u.$activeIndex=0)},f.activate=function(n){u.$activeIndex=n},f.select=function(n){var i=u.$matches[n].value;o&&(o.$setViewValue(i),o.$render(),s&&s.$digest());e.trigger==="focus"?t[0].blur():f.$isShown&&f.hide();u.$activeIndex=0;u.$emit("$typeahead.select",i,n)},f.$isVisible=function(){return!e.minLength||!o?!!u.$matches.length:u.$matches.length&&angular.isString(o.$viewValue)&&o.$viewValue.length>=e.minLength},f.$onMouseDown=function(n){n.preventDefault();n.stopPropagation()},f.$onKeyDown=function(n){if(/(38|40|13)/.test(n.keyCode)){if(n.preventDefault(),n.stopPropagation(),n.keyCode===13)return f.select(u.$activeIndex);n.keyCode===38&&u.$activeIndex>0?u.$activeIndex--:n.keyCode===40&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0);u.$digest()}},h=f.show,f.show=function(){h();setTimeout(function(){f.$element.on("mousedown",f.$onMouseDown);if(e.keyboard)t.on("keydown",f.$onKeyDown)})},c=f.hide,f.hide=function(){f.$element.off("mousedown",f.$onMouseDown);e.keyboard&&t.off("keydown",f.$onKeyDown);c()},f}var f=angular.element(t.document.body);return u.defaults=n,u}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(n,t,i,r,u){var f=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,t,i,e){var o={scope:n,controller:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","limit","minLength"],function(n){angular.isDefined(i[n])&&(o[n]=i[n])});var s=o.limit||f.limit,c=u(i.ngOptions+" | filter:$viewValue | limitTo:"+s),h=r(t,o);n.$watch(i.ngModel,function(){c.valuesFn(n,e).then(function(n){n.length>s&&(n=n.slice(0,s));h.update(n)})});n.$on("$destroy",function(){h.destroy();o=null;h=null})}}}])})(window,document);
/*
//# sourceMappingURL=angular-strap.min.js.map
*/